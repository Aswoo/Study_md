#### GitHubBrowser 의문점

1. 어디에 쓰이는 코드인고?

```kotlin
@Suppress("unused")
@Module
abstract class FragmentBuildersModule {
    @ContributesAndroidInjector
    abstract fun contributeRepoFragment(): RepoFragment

    @ContributesAndroidInjector
    abstract fun contributeUserFragment(): UserFragment

    @ContributesAndroidInjector
    abstract fun contributeSearchFragment(): SearchFragment
}

```

- 시작 

- https://black-jin0427.tistory.com/168

  원래대로라면 Component에 주입할 곳을 추가해준다.

  - ```java
    @Component(modules = BurgerModule.class)
    public interface BurgerComponent {
    
        void inject(MainActivity activity);
    
        //새로 주입할 곳(DetailActivity)을 추가해 주었습니다.
        void inject(DetailActivity activity);
    
    }
    ```

    Activity에 DaggerComponent를 생성

    ```java
    public class DetailActivity extends AppCompatActivity {
    
        @Inject
        Burger burger;
    
        @Override
        protected void onCreate(@Nullable Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.activity_main);
            setTitle("DetailActivity");
    
            DaggerBurgerComponent.builder()
                    .build().inject(this);
            
        }
    }
    ```

    

  - Activity를 만들 때마다 Component를 build()하고 inject() 해주는 방식은  여러모로 귀찮다. 따라서 간단히 해줄 수 있는 방법이 바로 ContributesAndroidInjector

**ContributesAndroidInjector?**

- ```
  public @interface ContributesAndroidInjector
  ```

  Generates an [`AndroidInjector`](https://google.github.io/dagger/api/2.12/dagger/android/AndroidInjector.html)[`Subcomponent`](https://google.github.io/dagger/api/2.12/dagger/Subcomponent.html)[`Module`](https://google.github.io/dagger/api/2.12/dagger/Module.html)

  This annotation must be applied to an abstract method in a [`Module`](https://google.github.io/dagger/api/2.12/dagger/Module.html) that returns a concrete Android framework type (e.g. `FooActivity`, `BarFragment`, `MyService`, etc). The method should have no parameters.

  For more information, see [the docs](https://google.github.io/dagger/android)

- Activity Binder을 예제로 간단하게 살펴보자

1. ActivityBinder

```java
@Module
abstract public class ActivityBinder {

    @ContributesAndroidInjector
    abstract MainActivity bindMainActivity();

    @ContributesAndroidInjector
    abstract DetailActivity bindDetailActivity();
}
```

 우리는 MainActivity, DetailActivity 에 했던 작업들을 전부 모듈을 사용해 처리할려고 합니다. 그러기 위해서 모듈에 MainActivity와 DetailActivity 를 ContributesAndroidInjector 어노테이션을 사용하여 제공


2. AppCompoent

   Component는 모듈에서 제공받은 객체를 조합하여 어디에 주입할지 정하는 역활

```java
@Singleton
@Component(
        modules = {
                BurgerModule.class,
                ActivityBinder.class,
                AndroidSupportInjectionModule.class
        }
)
/*AndroidSupportInjectionModule -> 대거의 안드로이드 지원모듈 ㅇAndroidInjector<MyApplication>을 상속함으로써 MyApplication 으로 주입합니다.*/
public interface AppComponent extends AndroidInjector<MyApplication> {

}
```

3. DaagerAppCompactActivity

   ```java
   public class MainActivity extends DaggerAppCompatActivity {
   
       @Inject
       Burger burger;
   
       @Override
       protected void onCreate(@Nullable Bundle savedInstanceState) {
           super.onCreate(savedInstanceState);
           setContentView(R.layout.activity_main);
           setTitle("MainActivity");
   
           // DaggerBurgerComponent 함수는 필요 없습니다.
           /* DaggerBurgerComponent.builder().build()
                   .inject(this);*/
   
           Log.d("MyTag","MainActivity burger bun : " 
                   + burger.bun.getBun() + " , patty : " + burger.patty.getPatty());
   
       }
   }
   ```

   MainActivity, DetailActivity 를 AppCompatActicity 가 아닌 DaggerAppCompatActivity 로 상속해 주면 BurgerComponet 사용 없이 객체를 주입할 수 있게 됩니다.

### 아하 간단히 쓰려고 저렇게 썻구나 그런데..



```kotlin
class SearchFragment : Fragment(),Injectable{
  ...
  ...
}
```

# 애는 뭐 딱히 없는데?

https://github.com/google/dagger/issues/796

![img](/Users/yunseung-u/Study_md/Android/images/daager_issue.png)

### 라고 한다. Thx PhilGlass!!

찾아보니 역시 있다.

```kotlin
@Suppress("unused")
@Module
abstract class MainActivityModule {
    @ContributesAndroidInjector(modules = [FragmentBuildersModule::class])
    abstract fun contributeMainActivity(): MainActivity
}

```

